<!DOCTYPE html>
<!--
  ~ @copyright (c) 2014, Victor Nagy, University of SkÃ¶vde
  ~ @license BSD - $root/license
  -->

<html ng-app="logApp">
<head lang="en">
    <meta charset="UTF-8">
    <title>Log</title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <link href='http://fonts.googleapis.com/css?family=Source+Code+Pro:400,600,700' rel='stylesheet' type='text/css'>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.min.js"></script>
    <script type="text/javascript" src="script.js"></script>
</head>
<body>
<div ng-controller="logCtrl">
    <button ng-click="expand = !expand">Expand all</button><br>
    <button ng-click="filter = ''">Filter all</button>
    <button ng-click="filter = 'info'">Filter info</button>
    <button ng-click="filter = 'standard'">Filter standard</button>
    <button ng-click="filter = 'warning'">Filter warning</button>
    <button ng-click="filter = 'error'">Filter error</button>
    <button ng-click="filter = 'titlechange'">Filter Title change</button>
    <button ng-click="filter = 'orphans'">Show orphans</button>
    <div ng-repeat="logrow in log | filter:{level: filter}">
        <span class="{{logrow.level}}" ng-click="logrow.show = !logrow.show">{{logrow.message}}</span>
        <div ng-if="logrow.level == 'standard' || logrow.level == 'orphans'">
            <div ng-show="logrow.show || expand" class="standardinfo">
                ID: {{logrow.standard.id}}<br>
                Names: {{logrow.standard.names}}<br>
                Link: <a href="{{logrow.standard.link}}" target="_blank">{{logrow.standard.link}}</a><br>
                Versions: <br>
                <div ng-repeat="sv in logrow.standard.versions" class="indent">
                    <span ng-click="sv.show = !sv.show" style="text-decoration: underline;">{{sv.date}}</span>
                    <div ng-show="sv.show || expand" class="svinfo">
                        Title ({{sv.rules.title.name}}): {{sv.title}}<br>
                        Date ({{sv.rules.date.name}}): {{sv.date}}<br>
                        Status ({{sv.rules.status.name}}): {{sv.status}}<br>
                        Link: <a href="{{sv.link}}" target="_blank">{{sv.link}}</a><br>
                        <span ng-if="sv.editors.length > 0">Editors ({{sv.rules.editors.name}}):</span>
                        <div ng-repeat="editor in sv.editors" class="indent">
                            <span ng-click="editor.show = !editor.show" style="text-decoration: underline;">{{editor.name}}</span>
                            <div ng-show="editor.show || expand" class="editorinfo">
                                Name: {{editor.name}}<br>
                                currentAffiliation: {{editor.currentAffiliation}}<br>
                                currentAffiliationUntil: {{editor.currentAffiliationUntil}}<br>
                                standardAffiliation: {{editor.standardAffiliation}}<br>
                                standardAffiliationUntil: {{editor.standardAffiliationUntil}}<br>
                                viaAffiliation: {{editor.viaAffiliation}}<br>
                                email: {{editor.email}}<br>
                                workgroup: {{editor.workgroup}}<br>
                                websites: {{editor.websites}}<br>
                                formerAffiliation: {{editor.formerAffiliation}}<br>
                                full: {{editor.full}}<br>
                                rule: {{editor.rule}}<br>
                            </div>
                        </div>
                        <span ng-if="sv.previousEditors.length > 0">Previous Editors ({{sv.rules.previousEditors.name}}):</span>
                        <div ng-repeat="editor in sv.previousEditors" class="indent">
                            <span ng-click="editor.show = !editor.show" style="text-decoration: underline;">{{editor.name}}</span>
                            <div ng-show="editor.show || expand" class="editorinfo">
                                Name: {{editor.name}}<br>
                                currentAffiliation: {{editor.currentAffiliation}}<br>
                                currentAffiliationUntil: {{editor.currentAffiliationUntil}}<br>
                                standardAffiliation: {{editor.standardAffiliation}}<br>
                                standardAffiliationUntil: {{editor.standardAffiliationUntil}}<br>
                                viaAffiliation: {{editor.viaAffiliation}}<br>
                                email: {{editor.email}}<br>
                                workgroup: {{editor.workgroup}}<br>
                                websites: {{editor.websites}}<br>
                                formerAffiliation: {{editor.formerAffiliation}}<br>
                                full: {{editor.full}}<br>
                                rule: {{editor.rule}}<br>
                            </div>
                        </div>
                        <span ng-if="sv.seriesEditors.length > 0">Series Editors ({{sv.rules.seriesEditors.name}}):</span>
                        <div ng-repeat="editor in sv.seriesEditors" class="indent">
                            <span ng-click="editor.show = !editor.show" style="text-decoration: underline;">{{editor.name}}</span>
                            <div ng-show="editor.show || expand" class="editorinfo">
                                Name: {{editor.name}}<br>
                                currentAffiliation: {{editor.currentAffiliation}}<br>
                                currentAffiliationUntil: {{editor.currentAffiliationUntil}}<br>
                                standardAffiliation: {{editor.standardAffiliation}}<br>
                                standardAffiliationUntil: {{editor.standardAffiliationUntil}}<br>
                                viaAffiliation: {{editor.viaAffiliation}}<br>
                                email: {{editor.email}}<br>
                                workgroup: {{editor.workgroup}}<br>
                                websites: {{editor.websites}}<br>
                                formerAffiliation: {{editor.formerAffiliation}}<br>
                                full: {{editor.full}}<br>
                                rule: {{editor.rule}}<br>
                            </div>
                        </div>
                        <span ng-if="sv.authors.length > 0">Authors ({{sv.rules.authors.name}}):</span>
                        <div ng-repeat="editor in sv.authors" class="indent">
                            <span ng-click="editor.show = !editor.show" style="text-decoration: underline;">{{editor.name}}</span>
                            <div ng-show="editor.show || expand" class="editorinfo">
                                Name: {{editor.name}}<br>
                                currentAffiliation: {{editor.currentAffiliation}}<br>
                                currentAffiliationUntil: {{editor.currentAffiliationUntil}}<br>
                                standardAffiliation: {{editor.standardAffiliation}}<br>
                                standardAffiliationUntil: {{editor.standardAffiliationUntil}}<br>
                                viaAffiliation: {{editor.viaAffiliation}}<br>
                                email: {{editor.email}}<br>
                                workgroup: {{editor.workgroup}}<br>
                                websites: {{editor.websites}}<br>
                                formerAffiliation: {{editor.formerAffiliation}}<br>
                                full: {{editor.full}}<br>
                                rule: {{editor.rule}}<br>
                            </div>
                        </div>
                        <span ng-if="sv.contributors.length > 0">Contributors ({{sv.rules.contributors.name}}):</span>
                        <div ng-repeat="editor in sv.contributors" class="indent">
                            <span ng-click="editor.show = !editor.show" style="text-decoration: underline;">{{editor.name}}</span>
                            <div ng-show="editor.show || expand" class="editorinfo">
                                Name: {{editor.name}}<br>
                                currentAffiliation: {{editor.currentAffiliation}}<br>
                                currentAffiliationUntil: {{editor.currentAffiliationUntil}}<br>
                                standardAffiliation: {{editor.standardAffiliation}}<br>
                                standardAffiliationUntil: {{editor.standardAffiliationUntil}}<br>
                                viaAffiliation: {{editor.viaAffiliation}}<br>
                                email: {{editor.email}}<br>
                                workgroup: {{editor.workgroup}}<br>
                                websites: {{editor.websites}}<br>
                                formerAffiliation: {{editor.formerAffiliation}}<br>
                                full: {{editor.full}}<br>
                                rule: {{editor.rule}}<br>
                            </div>
                        </div>
                        <span ng-if="sv.contributingAuthors.length > 0">Contributing Authors ({{sv.rules.contributingAuthors.name}}):</span>
                        <div ng-repeat="editor in sv.contributingAuthors" class="indent">
                            <span ng-click="editor.show = !editor.show" style="text-decoration: underline;">{{editor.name}}</span>
                            <div ng-show="editor.show || expand" class="editorinfo">
                                Name: {{editor.name}}<br>
                                currentAffiliation: {{editor.currentAffiliation}}<br>
                                currentAffiliationUntil: {{editor.currentAffiliationUntil}}<br>
                                standardAffiliation: {{editor.standardAffiliation}}<br>
                                standardAffiliationUntil: {{editor.standardAffiliationUntil}}<br>
                                viaAffiliation: {{editor.viaAffiliation}}<br>
                                email: {{editor.email}}<br>
                                workgroup: {{editor.workgroup}}<br>
                                websites: {{editor.websites}}<br>
                                formerAffiliation: {{editor.formerAffiliation}}<br>
                                full: {{editor.full}}<br>
                                rule: {{editor.rule}}<br>
                            </div>
                        </div>
                        <span ng-if="sv.editorInChief.length > 0">Editor in Chief ({{sv.rules.editorInChief.name}}):</span>
                        <div ng-repeat="editor in sv.editorInChief" class="indent">
                            <span ng-click="editor.show = !editor.show" style="text-decoration: underline;">{{editor.name}}</span>
                            <div ng-show="editor.show || expand" class="editorinfo">
                                Name: {{editor.name}}<br>
                                currentAffiliation: {{editor.currentAffiliation}}<br>
                                currentAffiliationUntil: {{editor.currentAffiliationUntil}}<br>
                                standardAffiliation: {{editor.standardAffiliation}}<br>
                                standardAffiliationUntil: {{editor.standardAffiliationUntil}}<br>
                                viaAffiliation: {{editor.viaAffiliation}}<br>
                                email: {{editor.email}}<br>
                                workgroup: {{editor.workgroup}}<br>
                                websites: {{editor.websites}}<br>
                                formerAffiliation: {{editor.formerAffiliation}}<br>
                                full: {{editor.full}}<br>
                                rule: {{editor.rule}}<br>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>
</body>
</html>